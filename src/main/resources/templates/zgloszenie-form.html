<!-- zgloszenie-form.html – fragmenty dla dodawania i edycji zgłoszeń -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<!-- Fragment dla dodawania (addForm) -->
<div th:fragment="addForm">
    <p>Test: Formularz dodawania zgłoszenia – to powinno być widoczne!</p>  <!-- Dla debugu -->
    <form th:action="@{/zgloszenie/zapisz}" method="post" onsubmit="return validateForm(this)">
        <!-- Pola formularza – dostosuj do modelu Zgloszenie -->
        <div class="mb-3">
            <label for="maszynaId" class="form-label">Maszyna</label>
            <select class="form-select bg-dark text-light" id="maszynaId" name="maszynaId" required>
                <option th:each="maszyna : ${maszyny}" th:value="${maszyna.id}" th:text="${maszyna.nazwa}"></option>
            </select>
        </div>
        <div class="mb-3">
            <label for="typZgloszenia" class="form-label">Typ zgłoszenia</label>  <!-- Dostosuj nazwy pól -->
            <input type="text" class="form-control bg-dark text-light" id="typZgloszenia" name="typZgloszenia" required />
        </div>
        <div class="mb-3">
            <label for="opis" class="form-label">Opis</label>
            <textarea class="form-control bg-dark text-light" id="opis" name="opis" rows="4" required></textarea>
        </div>
        <div class="mb-3">
            <label for="osobaId" class="form-label">Osoba</label>
            <select class="form-select bg-dark text-light" id="osobaId" name="osobaId" required>
                <option th:each="osoba : ${osoby}" th:value="${osoba.id}" th:text="${osoba.imieNazwisko}"></option>
            </select>
        </div>
        <div class="mb-3">
            <label for="status" class="form-label">Status</label>
            <select class="form-select bg-dark text-light" id="status" name="status" required>
                <option value="otwarty">Otwarty</option>
                <option value="w trakcie">W trakcie</option>
                <option value="zamknięty">Zamknięty</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="dataZgloszenia" class="form-label">Data zgłoszenia</label>
            <input type="date" class="form-control bg-dark text-light" id="dataZgloszenia" name="dataZgloszenia" required />
        </div>
        <div class="mb-3">
            <label for="czasOd" class="form-label">Czas od</label>
            <input type="time" class="form-control bg-dark text-light" id="czasOd" name="czasOd" required />
        </div>
        <div class="mb-3">
            <label for="czasDo" class="form-label">Czas do</label>
            <input type="time" class="form-control bg-dark text-light" id="czasDo" name="czasDo" required />
        </div>
        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Zapisz</button>
    </form>
</div>

<!-- Fragment dla edycji (editForm) -->
<div th:fragment="editForm">
    <p>Test: Formularz edycji zgłoszenia – to powinno być widoczne!</p>  <!-- Dla debugu -->
    <form th:action="@{/zgloszenie/zapisz}" method="post" onsubmit="return validateForm(this)">
        <input type="hidden" name="id" th:value="${zgloszenie.id}" />
        <!-- Pola z prewypełnieniem, np. -->
        <div class="mb-3">
            <label for="maszynaId" class="form-label">Maszyna</label>
            <select class="form-select bg-dark text-light" id="maszynaId" name="maszynaId" required>
                <option th:each="maszyna : ${maszyny}" th:value="${maszyna.id}" th:text="${maszyna.nazwa}" th:selected="${maszyna.id == zgloszenie.maszyna.id}"></option>
            </select>
        </div>
        <!-- Reszta pól z th:value="${zgloszenie.typZgloszenia}" itp. – dostosuj do Twojego modelu -->
        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Zapisz zmiany</button>
    </form>
</div>

</body>
</html>
